<p *ngIf="!(books$ | async)" class="loading">Chargement...</p>

<app-books-search *ngIf="books$ | async" (onSearch)="onSearch($event)"></app-books-search>

<section *ngFor="let book of books$ | async | booksFilter:search?.term:search?.fullSearch">
  <app-books-book
    [book]="book"
    [units]="(units$ | async)[book.isbn]"
    (onUnitsChanged)="onUnitsChanged(book, $event)">
  </app-books-book>
</section>
